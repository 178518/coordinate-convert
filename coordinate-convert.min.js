!function(a,b){var c="CoordinateConvert";"function"==typeof define&&define.amd?define(c,b()):"undefined"!=typeof exports?exports=b():a[c]=b()}(this,function(){function a(a,b){return 72.004>a||a>137.8347||.8293>b||b>55.8271}function b(a,b){var c=Math.PI,d=-100+2*a+3*b+.2*b*b+.1*a*b+.2*Math.sqrt(Math.abs(a));return d+=2*(20*Math.sin(6*a*c)+20*Math.sin(2*a*c))/3,d+=2*(20*Math.sin(b*c)+40*Math.sin(b/3*c))/3,d+=2*(160*Math.sin(b/12*c)+320*Math.sin(b*c/30))/3}function c(a,b){var c=Math.PI,d=300+a+2*b+.1*a*a+.1*a*b+.1*Math.sqrt(Math.abs(a));return d+=2*(20*Math.sin(6*a*c)+20*Math.sin(2*a*c))/3,d+=2*(20*Math.sin(a*c)+40*Math.sin(a/3*c))/3,d+=2*(150*Math.sin(a/12*c)+300*Math.sin(a/30*c))/3}function d(a,b){if(1===arguments.length&&a instanceof Array?(b=+a[1],a=+a[0]):(a=+a,b=+b),isNaN(a)||isNaN(b))throw new Error("Invalid parameters");return[a,b]}var e=Math.PI,f=6378245,g=.006693421622965943,h=3e3*e/180;return{wgs2gcj:function(h,i){var j,k,l=d(arguments);if(h=l[0],i=l[1],a(h,i))j=h,k=i;else{var m=b(h-105,i-35),n=c(h-105,i-35),o=i/180*e,p=Math.sin(o);p=1-g*p*p;var q=Math.sqrt(p);m=180*m/(f*(1-g)/(p*q)*e),n=180*n/(f/q*Math.cos(o)*e),k=i+m,j=h+n}return[j,k]},gcj2bd:function(a,b){var c=d(a,b),e=c[0],f=c[1],g=Math.sqrt(e*e+f*f)+2e-5*Math.sin(f*h),i=Math.atan2(f,e)+3e-6*Math.cos(e*h);return[g*Math.cos(i)+.0065,g*Math.sin(i)+.006]},bd2gcj:function(a,b){var c=d(a,b),e=c[0]-.0065,f=c[1]-.006,g=Math.sqrt(e*e+f*f)-2e-5*Math.sin(f*h),i=Math.atan2(f,e)-3e-6*Math.cos(e*h);return[g*Math.cos(i),g*Math.sin(i)]}}});